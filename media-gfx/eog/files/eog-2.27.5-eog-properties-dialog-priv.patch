Some metadata members into EogPropertiesDialogPrivate structure was included 
only conditionnally related to METADATA macroconstant.
Even if them wasn't included eog_properties_dialog_set_netbook_mode
function used them, that's why it didn't compile.
To conclude it was just a missing conditionnal block into this function.

From 410444769709a68fd2049786c46926f1e1b30e53 Mon Sep 17 00:00:00 2001
From: Felix Riemann <friemann@gnome.org>
Date: Wed, 29 Jul 2009 11:58:10 +0000
Subject: Bug 590124 â€“ Eog fails to compile if exempi/exif are not available

---
diff --git a/ChangeLog b/ChangeLog
index 2bf6fe0..2ad4e2f 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,9 @@
+2009-07-29  Felix Riemann  <friemann@gnome.org>
+
+	* src/eog-properties-dialog.c
+	(eog_properties_dialog_set_netbook_mode):
+	Fix build whithout any Exif and XMP support. Fixes bug #590124.
+
 2009-07-28  Felix Riemann  <friemann@gnome.org>
 
 	* configure.ac: Post-release version bump.
diff --git a/src/eog-properties-dialog.c b/src/eog-properties-dialog.c
index b17c706..1748579 100644
--- a/src/eog-properties-dialog.c
+++ b/src/eog-properties-dialog.c
@@ -530,6 +530,7 @@ eog_properties_dialog_set_netbook_mode (EogPropertiesDialog *dlg,
 
 	priv->netbook_mode = enable;
 
+#ifdef HAVE_METADATA
 	if (enable) {
 		gtk_widget_reparent (priv->metadata_details_sw,
 				     priv->metadata_details_box);
@@ -547,6 +548,7 @@ eog_properties_dialog_set_netbook_mode (EogPropertiesDialog *dlg,
 			gtk_notebook_prev_page (GTK_NOTEBOOK (priv->notebook));
 		gtk_widget_hide_all (priv->metadata_details_box);
 	}
+#endif
 }
 
 static void
--
cgit v0.8.2
